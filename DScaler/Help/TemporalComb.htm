<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<!-- #BeginTemplate "/Templates/dtvnormal.dwt" -->
<head>
<!-- #BeginEditable "doctitle" -->
<title>DScaler -- Temporal Comb Filter</title>
<!-- #EndEditable -->
<meta http-equiv="Content-Type" content=
"text/html; charset=iso-8859-1">
<style type="text/css">
<!--
p {  font-family: Arial, Helvetica, sans-serif; font-size: 10pt}
.bottommenu {  font-family: Arial, Helvetica, sans-serif; font-size: 8pt; font-style: normal; text-decoration: none}
h3 {  font-family: Arial, Helvetica, sans-serif; font-size: 10pt; font-style: normal; font-weight: bold}
h1 {  font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 18pt; font-weight: bold}
li {  font-family: Arial, Helvetica, sans-serif; font-size: 10pt}
h2 {  font-family: Arial, Helvetica, sans-serif; font-size: 14pt; font-weight: bold}
ol {  font-family: Arial, Helvetica, sans-serif; font-size: 10pt}
blockquote {  font-family: Arial, Helvetica, sans-serif; font-size: 10pt}
pre {  font-family: "Courier New", Courier, mono; font-size: 9pt}
ul {  font-family: Arial, Helvetica, sans-serif; font-size: 10pt}
-->
</style>
</head>
<body bgcolor="#FFFFFF">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td height="1" width="160"><img src="images/spacer.gif" width="1"
height="1"></td>
<td height="1" width="342"><img src="images/spacer.gif" width="1"
height="1"></td>
<td height="1" width="501"><img src="images/spacer.gif" width="1"
height="1"></td>
</tr>

<tr>
<td width="160"><img src="images/dscalerlogo.jpg" alt=
"DScaler Logo"></td>
<td colspan="2" align="right" valign="bottom"><font face=
"Verdana, Arial, Helvetica, sans-serif" size="5"><b>
<!-- #BeginEditable "Page%20Title" -->
Temporal Comb Filter
<!-- #EndEditable --></b></font></td>
</tr>

<tr bgcolor="#FFCC00" align="right">
<td colspan="3"><img src="images/yellowspacer.gif" width="100%"
height="2"></td>
</tr>

<tr>
<td colspan="3"> </td>
</tr>

<tr>
<td colspan="3">
<!-- #BeginEditable "Text" -->
<p><b><font face="Arial" size="5">Temporal Comb
Filter</font></b></p>

<p>This filter removes dot crawl and some kinds of shimmering.
The effect is most noticable on computer generated images like
subtitles, weather maps, and station logos using a composite
video signal. It also helps more subtly with edges of saturated
colors in cartoons and normal video. But there's plenty of low
contrast material for which the Temporal Comb does very little
(except keep your processor busy).</p>

<p>What the heck is a comb filter? In technical terms, it
averages out chrominance/luminance crosstalk caused by imperfect
separation from a composite signal. It's called a "comb" for a
really obscure reason -- because the frequency response looks a
(very little) bit like a comb. Apparently, signal processing
engineers are obsessed with grooming.</p>

<p>Note that this filter is not in any way related to "comb" in
the sense used by many video folks! It's not supposed to reduce
weave artifacts (lagging horizontal lines) at all.</p>

<p>This comb filter only works temporally, not spatially. That
means dot crawl on moving backgrounds won't be corrected.</p>


<p><b><font face="Arial" size="4">Who Should Use
It?</font></b></p>

<p>You should, of course.</p>

<p>Well -- a little more usefully: This is a computationally
intensive filter, and it only helps with certain kinds of video.
If you've never noticed dot crawl, don't bother with this plugin.
If you use an S-video connection from a DVD player or an external
TV tuner with a 3D comb filter, then you've already taken care of
the problem, and the Temporal Comb filter probably won't help at
all.</p>

<p>But if you want to get rid of shimmering and dots, this plugin
can do the trick.</p>

<p><b><font face="Arial" size="4">The Settings</font></b></p>

<p><b><font face="Arial">General Approach</font></b></p>

<p>I'm going to describe how to configure this plugin
conservatively, so you can forget about it afterward. If you like
to fiddle with sliders, you can instead use much more aggressive
settings (lower Recall and Shimmering values) and turn them up
only when you have to.</p>


<p><b><font face="Arial">Recall of past shimmering</font></b></p>

<p>This is the really important setting. It decides just how far
back into the past the filter will look in order to confirm that
there's really some shimmering going on. Set it high (above 75%)
to avoid artifacts in scenes with repetitive motion. But don't
set it too high (above 95%), or it'll take a long time for the
filter to kick in.</p>

<p><b><font face="Arial">Shimmering to activate</font></b></p>

<p>This setting has a much subtler effect. If you set it high,
the filter will only correct when there has been uninterrupted
shimmering. Set it low, and the filter will tolerate more
interruptions -- but will also be a little more susceptible to
artifacts.</p>

<p>If you're running a noise filter, too, you can afford to set
this low -- 30% works well for me. That's a good idea, since it
will allow the filter to correct more subtle shimmering. Without
a noise filter, you'll need to set it pretty high (about 70%) to
avoid transient spots where dot crawl has just disappeared. If
you don't care about shimmering and just want to take care of dot
crawl, you can safely set this near 100%.</p>

<p><b><font face="Arial">Maximum in phase luminance (and chroma)
differences</font></b></p>

<p>These options let you decide just how different a color can be
before the plugin decides that the difference must be due to
motion. They can be set much higher than for the Temporal Noise
filter, since this plugin uses a stricter motion detection
method. If you've enabled Even Luma Peaking and Odd Luma Peaking
(in the Advanced Video Flags dialog), you'll need to set these
very high -- to 45 or 50, each. With peaking disabled, you can
keep them much lower -- around 35 with my setup. You can lower
the settings by about 10 points apiece if you turn on Trade Speed
for Accuracy. The higher the settings are, the more likely you
are to see transient spots. So if you set these really high,
you'll want to compensate by raising the other settings.</p>

<p>Here's how to choose these settings for yourself:</p>

<p>- First, tune in the worst dot crawl you can find. In the US,
CNN Headlines is a dependable source, as is the "T" in the
Country Music Station's logo and the radar maps on the Weather
Channel. If you've got a video reference DVD, connect it via
composite and show a still with neighboring green and magenta
color bars.</p>

<p>- Turn the Recall and Shimmering settings all the way down.
Turn the In Phase Difference settings up really high (about 80).
The dot crawl should disappear. Well, bad dot crawl does still
leave a residual shimmer unless you enable Trade Speed for
Accuracy.</p>

<p>- Move the two in phase differences down until the dot crawl
returns. Then raise the settings until the dot crawl disappears,
again. You've now got yourself the minimum values for those
sliders.</p>

<p>- Turn Recall and Shimmering back up to more reasonable
values.</p>

<p><b><font face="Arial">Trade speed for accuracy</font></b></p>

<p>This checkbox does pretty much what you'd think. It causes the
filter to use half again as much processor time and an additional
2 MB of memory (on top of the ~400K it already uses) in order to
improve its accuracy and colors.</p>

<p><b><font face="Arial">Looking for trouble</font></b></p>

<p>If you want to find artifacts to help you pick settings, there
are a couple types of material which are especially problematic.
Strobe effects in music videos may cause fits. But the very worst
case is the ticker tape on CNBC (on US Cable), which goes by at
the right speed to fool the filter. Worse yet, it has bad (but
moving) dot crawl. You'll need to set the Recall option pretty
high (about 85) to avoid problems with it.</p>

<!-- #EndEditable -->
</td>
</tr>

<tr>
<td colspan="3"> </td>
</tr>

<tr>
<td colspan="3"></td>
</tr>

<tr>
<td colspan="3"> </td>
</tr>

<tr bgcolor="#FFCC00">
<td colspan="3">
<div align="center"><img src="images/yellowspacer.gif" width=
"100%" height="2"></div>
</td>
</tr>
</table>

<!-- #EndTemplate -->
</body>
</html>

